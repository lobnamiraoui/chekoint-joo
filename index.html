<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body><script>
    // Define the Product class with id, name, and price properties.
class Product {
    constructor(id, name, price) {
      this.id = id;
      this.name = name;
      this.price = price;
    }
  }
  
  // Define the ShoppingCartItem class that contains a product and its quantity.
  class ShoppingCartItem {
    constructor(product, quantity) {
      this.product = product;
      this.quantity = quantity;
    }
  
    // Method to calculate the total price for this item.
    getTotalPrice() {
      return this.product.price * this.quantity;
    }
  }
  
  // Define the ShoppingCart class that contains an array of ShoppingCartItem instances.
  class ShoppingCart {
    constructor() {
      this.items = [];
    }
  
    // Method to calculate the total cost of all items in the cart.
    getTotal() {
      return this.items.reduce((acc, item) => acc + item.getTotalPrice(), 0);
    }
  
    // Method to add an item to the cart.
    // If the product already exists, it increases the quantity.
    addItem(product, quantity) {
      const index = this.items.findIndex(item => item.product.id === product.id);
      if (index !== -1) {
        // Product already in cart, so update the quantity.
        this.items[index].quantity += quantity;
      } else {
        // Add new ShoppingCartItem to the cart.
        this.items.push(new ShoppingCartItem(product, quantity));
      }
    }
  
    // Method to remove an item from the cart by product id.
    removeItem(productId) {
      const index = this.items.findIndex(item => item.product.id === productId);
      if (index !== -1) {
        this.items.splice(index, 1);
        return true;
      }
      return false;
    }
  
    // Method to display the details of each item in the cart.
    displayCart() {
      if (this.items.length === 0) {
        console.log("The cart is empty.");
        return;
      }
      console.log("Cart Items:");
      this.items.forEach(item => {
        console.log(`Product: ${item.product.name} (ID: ${item.product.id})`);
        console.log(`Price: $${item.product.price.toFixed(2)}`);
        console.log(`Quantity: ${item.quantity}`);
        console.log(`Total for this item: $${item.getTotalPrice().toFixed(2)}`);
        console.log('-------------------------');
      });
      console.log(`Cart Total: $${this.getTotal().toFixed(2)}`);
    }
  }
    // Create some products.
    const product1 = new Product(1, "Laptop", 1200.00);
  const product2 = new Product(2, "Smartphone", 800.00);
  const product3 = new Product(3, "Headphones", 150.00);
  
  // Create a new shopping cart instance.
  const myCart = new ShoppingCart();
  
  // Add items to the cart.
  myCart.addItem(product1, 1);   // Add 1 Laptop.
  myCart.addItem(product2, 2);   // Add 2 Smartphones.
  myCart.addItem(product3, 3);   // Add 3 Headphones.
  
  // Display the current state of the cart.
  console.log("=== Displaying Cart After Adding Items ===");
  myCart.displayCart();
  
  // Remove one item (e.g., remove the Smartphone with id 2).
  console.log("\n=== Removing Product with ID 2 ===");
  myCart.removeItem(2);
  
  // Display the cart again after removal.
  console.log("\n=== Displaying Cart After Removal ===");
  myCart.displayCart();
</script>
    
</body>
</html>